import{a as t}from"./index-ae6c698a.js";import{D as o}from"./DynamicTable-fb44771c.js";import{_ as e,r as a,o as n,c as s,b as r,h as l,j as i,a as c,w as m,d as h}from"./index-c3624d72.js";const p=e({components:{DynamicTable:o},name:"Test",computed:{tableDataForTextArea:{get(){return JSON.stringify(this.tableData)},set(t){const o=t;try{const t=JSON.parse(o);this.tableData=t}catch{this.$message.error("json格式错误")}console.log(obj)}}},methods:{async fetchOCR(){try{this.loading=!0;const e=this.serverUrl+"/api/get_table",a=await t.get(e);this.responseData=a.data,console.log(this.responseData),console.log(this.responseData.message);var o=JSON.parse(this.responseData.message);console.log(o),this.tableData=o}catch(e){console.error("请求错误:",e)}finally{this.loading=!1}}},data:()=>({serverUrl:"http://127.0.0.1:7074",responseData:"",tableData:{name:"demo",cells:[{content:"全宗号",left:0,right:1,top:0,bottom:1},{content:"年度",left:1,right:2,top:0,bottom:1},{content:"室编件号",left:2,right:4,top:0,bottom:1},{content:"馆编件号",left:4,right:6,top:0,bottom:1},{content:"盒号",left:6,right:7,top:0,bottom:1},{content:"220",left:0,right:1,top:1,bottom:2},{content:"2003",left:1,right:2,top:1,bottom:2},{content:"无",left:2,right:4,top:1,bottom:2},{content:"92",left:4,right:6,top:1,bottom:2},{content:"无",left:6,right:7,top:1,bottom:2},{content:"机构(问题)",left:0,right:3,top:2,bottom:3},{content:"保管期限",left:3,right:5,top:2,bottom:3},{content:"文书号",left:5,right:6,top:2,bottom:3},{content:"页数",left:6,right:7,top:2,bottom:3},{content:"防控组",left:0,right:3,top:3,bottom:4},{content:"长期",left:3,right:5,top:3,bottom:4},{content:"90",left:5,right:6,top:3,bottom:4},{content:"5",left:6,right:7,top:3,bottom:4}]}})},[["render",function(t,o,e,p,b,g){const f=a("dynamic-table"),d=a("a-button");return n(),s("div",null,[r(f,{data:b.tableData},null,8,["data"]),l(c("textarea",{"onUpdate:modelValue":o[0]||(o[0]=t=>g.tableDataForTextArea=t),rows:"10"},null,512),[[i,g.tableDataForTextArea]]),c("div",null,[r(d,{onClick:o[1]||(o[1]=t=>g.fetchOCR())},{default:m((()=>[h("请求get_table")])),_:1})])])}],["__scopeId","data-v-08f564c0"]]);export{p as default};
