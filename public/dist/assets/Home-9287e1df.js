import{i as e,a}from"./ipcRenderer-54214173.js";import{_ as i,o as t,c as s,a as r,t as o,b as l,r as n,d,p as c,e as m}from"./index-e10a0b5f.js";const g={class:"camera"},h={class:"button-area"},v=["disabled"],u={class:"display-area"},f={class:"video-area"},p={ref:"video",autoplay:""},C={class:"img-area"},U=["src"];const b={components:{Camera:i({name:"Camera",mounted(){},data:()=>({isCameraOn:!1,videoStream:null,imageUrl:""}),methods:{async startCamera(){try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e}catch(e){console.error("Error accessing camera:",e)}},async toggleCamera(){if(this.isCameraOn)this.videoStream&&(this.videoStream.getTracks().forEach((e=>e.stop())),this.$refs.video.srcObject=null,this.isCameraOn=!1);else try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e,this.isCameraOn=!0,this.videoStream=e}catch(e){console.error("Error accessing camera:",e)}},takePicture(){const e=document.createElement("canvas");e.width=this.$refs.video.videoWidth,e.height=this.$refs.video.videoHeight,e.getContext("2d").drawImage(this.$refs.video,0,0,e.width,e.height),this.imageUrl=e.toDataURL("image/png")}}},[["render",function(e,a,i,n,d,c){return t(),s("div",g,[r("div",h,[r("button",{onClick:a[0]||(a[0]=(...e)=>c.toggleCamera&&c.toggleCamera(...e))},o(d.isCameraOn?"关闭摄像头":"开启摄像头"),1),r("button",{onClick:a[1]||(a[1]=(...e)=>c.takePicture&&c.takePicture(...e)),disabled:!d.isCameraOn},"截取图片",8,v)]),r("div",u,[r("div",f,[r("video",p,null,512)]),r("div",C,[d.imageUrl?(t(),s("img",{key:0,src:d.imageUrl,alt:"Captured Image"},null,8,U)):l("",!0)])])])}],["__scopeId","data-v-25066eb4"]])},name:"Home",data:()=>({title:"Home Page",content:"This is the home page content.",file:null,imageUrl:null}),methods:{handleFileUpload(e){this.file=e.target.files[0];const a=new FileReader;a.readAsDataURL(this.file),a.onload=()=>{this.imageUrl=a.result,console.log(this.imageUrl)}},uploadFile(){this.file?(console.log("上传文件:",this.file),e.invoke(a.imgResolve,[this.imageUrl]).then((e=>{console.log(e),alert(e)}))):alert("请先选择文件")}}},k={class:"area1"},y={class:"area2-left"},O=["src"],F=(e=>(c("data-v-af71439b"),e=e(),m(),e))((()=>r("div",{class:"area2-right"}," fds ",-1)));const w=i(b,[["render",function(e,a,i,o,c,m){const g=n("camera");return t(),s("div",null,[r("input",{type:"file",onChange:a[0]||(a[0]=(...e)=>m.handleFileUpload&&m.handleFileUpload(...e))},null,32),r("button",{onClick:a[1]||(a[1]=(...e)=>m.uploadFile&&m.uploadFile(...e))},"上传图片"),r("div",k,[r("div",y,[c.imageUrl?(t(),s("img",{key:0,src:c.imageUrl,alt:"Uploaded Image"},null,8,O)):l("",!0)]),F]),d(g)])}],["__scopeId","data-v-af71439b"]]);export{w as default};
